# 多模态医疗图像特征提取项目 - 默认配置

data:
  root_dir: "/home/wwt/data/raw/liver/Grade"
  modalities:
    - A
    - P
  train_ratio: 0.7
  image_size: 224
  num_workers: 8

model:
  name: resnet18  # resnet18, resnet50, swin_t, cmta
  pretrained: true
  num_classes: 2
  freeze_stages: 0  # ResNet50时设为3

  # CMTA特定参数
  cmta:
    feat_dim: 1024
    num_cluster: 64
    bank_length: 16
    update_ratio: 0.1
    model_size: small  # small, large

training:
  batch_size: 64
  epochs: 100
  learning_rate: 0.0001
  weight_decay: 0.0001
  loss_type: ce  # ce, focal, asymmetric, cohort
  optimizer: adamw  # adam, sgd, adamw
  scheduler: cosine  # cosine, step, plateau
  early_stop_patience: 10
  early_stop_enabled: true
  device: cuda

  # CMTA特定训练参数
  cmta:
    alpha: 0.5  # 队列损失权重
    beta: 0.1   # 辅助损失权重
    seed: 1
    update_rat: 0.1  # 知识记忆更新率

augmentation:
  horizontal_flip: true
  rotation_degrees: 15
  normalize_mean: 0.5
  normalize_std: 0.5

experiment:
  name: ""
  seed: 42
  output_dir: "./outputs/feature_extract"
  save_best_only: true
  log_interval: 10
